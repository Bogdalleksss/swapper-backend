import{d as w,o as c,f,b as o,x as E,t as $,a as S,i as F,r as C,n as i,Q,j as b,q as R,y as q,z as L,e as y,u as M,s as x,C as j,A as I,B as H,N as B,D as O,E as Y,c as P,w as h,g as d,G,H as X,F as z,p as U,m as J,I as K,v as V}from"./index.d9737fc8.js";import{_ as g}from"./plugin-vue_export-helper.21dcd24c.js";import{A as Z,T as ee,B as N,_ as te,S as ne}from"./copy.9452c71a.js";var ae=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_upgradedAddress",type:"address"}],name:"deprecate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"deprecated",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_evilUser",type:"address"}],name:"addBlackList",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"upgradedAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balances",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maximumFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_maker",type:"address"}],name:"getBlackListStatus",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"allowed",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"who",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getOwner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newBasisPoints",type:"uint256"},{name:"newMaxFee",type:"uint256"}],name:"setParams",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"issue",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"redeem",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"basisPointsRate",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"isBlackListed",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_clearedUser",type:"address"}],name:"removeBlackList",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"MAX_UINT",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_blackListedUser",type:"address"}],name:"destroyBlackFunds",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"_initialSupply",type:"uint256"},{name:"_name",type:"string"},{name:"_symbol",type:"string"},{name:"_decimals",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"amount",type:"uint256"}],name:"Issue",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"amount",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"newAddress",type:"address"}],name:"Deprecate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"feeBasisPoints",type:"uint256"},{indexed:!1,name:"maxFee",type:"uint256"}],name:"Params",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_blackListedUser",type:"address"},{indexed:!1,name:"_balance",type:"uint256"}],name:"DestroyedBlackFunds",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_user",type:"address"}],name:"AddedBlackList",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_user",type:"address"}],name:"RemovedBlackList",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"}],se="/assets/settings.bd8ef033.svg",oe="/assets/btc.0b124c95.svg";const le="_layout_kztbq_1",ue="_head_kztbq_7",ie="_content_kztbq_19";var re={layout:le,head:ue,content:ie};const pe=w({__name:"BlockLayout",props:{title:{type:String,default:"Untitled"},loading:Boolean},setup(n){return(s,e)=>(c(),f("div",{class:i(s.$style.layout)},[o("div",{class:i(s.$style.head)},[o("h3",null,[E($(n.title)+" ",1),n.loading?(c(),S(Q,{key:0,size:"14px"})):F("",!0)]),o("div",null,[C(s.$slots,"head")])],2),o("div",{class:i(s.$style.content)},[C(s.$slots,"default")],2)],2))}}),de={$style:re};var W=g(pe,[["__cssModules",de]]);const ce="_button_13rva_1",ye="_rounded_13rva_18";var me={button:ce,rounded:ye,"gradient-text":"_gradient-text_13rva_21"};const ve={name:"ChipButton",props:{title:{type:String,default:""},type:{type:String,default:"rounded"}}};function fe(n,s,e,p,l,a){return c(),f("button",{class:i([n.$style.button,n.$style[e.type]])},[C(n.$slots,"append"),o("span",null,$(e.title),1)],2)}const _e={$style:me};var T=g(ve,[["render",fe],["__cssModules",_e]]);const be="_input_n9j83_1",$e="_showed_n9j83_24",ge="_button_n9j83_27",we="_onlyRead_n9j83_99";var he={input:be,showed:$e,button:ge,onlyRead:we};const ke=["value"],Se=w({__name:"SwapperFieldInput",props:{type:String,value:String,showedField:{type:Boolean,default:!1},monet:{type:String,default:"-"}},emits:["input"],setup(n,{emit:s}){const e=s,p=n,l=b(!1),a=b(null);R(()=>p.showedField,r=>{r?(setTimeout(()=>{l.value=r},350),setTimeout(()=>{a.value.focus()},400)):l.value=r});const t=()=>{l.value||e("toggleShow")},u=r=>{e("input",r.target.value)};return(r,k)=>(c(),f("div",{class:i([r.$style.input,r.$style[n.type],{[r.$style.showed]:n.showedField}])},[o("div",{class:i([r.$style.button]),onClick:t},[o("h3",null,$(n.monet),1),q(y(Z,{color:"#6D6D6D"},null,512),[[L,!n.showedField]]),q(o("input",{value:n.value,ref_key:"input",ref:a,placeholder:"Address",onInput:u,onBlur:k[0]||(k[0]=m=>r.$emit("toggleShow"))},null,40,ke),[[L,l.value]])],2)],2))}}),Me={$style:he};var Te=g(Se,[["__cssModules",Me]]);const Fe="_field_1n4mq_1",Ae="_head_1n4mq_8",Be="_control_1n4mq_20",Ce="_input_1n4mq_24",qe="_inputField_1n4mq_30",Le="_footer_1n4mq_47",Ie="_onlyRead_1n4mq_67",Ve="_disabled_1n4mq_80";var De={field:Fe,head:Ae,control:Be,input:Ce,inputField:qe,footer:Le,onlyRead:Ie,disabled:Ve};const Re=["value"],xe={key:0},Pe={key:0},ze=w({__name:"SwapperField",props:{type:String,title:String,address:String,disabled:Boolean,balance:[Number,String],quantity:String,subQuantity:{type:Number,default:0},label:{type:String,default:"Balance"},monet:{type:String,default:"-"}},emits:["input","input-quantity","max","clear"],setup(n,{emit:s}){const e=b(!1),p=s,l=t=>{p("input",t)},a=t=>{p("input-quantity",+t.target.value)};return(t,u)=>(c(),f("div",{class:i([t.$style.field,t.$style[n.type],{[t.$style.disabled]:n.disabled}])},[o("div",{class:i(t.$style.head)},[o("h3",null,$(n.title),1),o("div",{class:i(t.$style.control)},[y(T,{title:"max",type:"gradient-text",onClick:u[0]||(u[0]=r=>p("max"))}),y(T,{title:"clear",type:"none",onClick:u[1]||(u[1]=r=>p("clear"))})],2)],2),o("div",{class:i([t.$style.input,{[t.$style.showedField]:e.value}])},[y(Te,{type:n.type,monet:n.monet,"showed-field":e.value,value:n.address,onToggleShow:u[2]||(u[2]=r=>e.value=!e.value),onInput:l},null,8,["type","monet","showed-field","value"]),q(o("input",{class:i(t.$style.inputField),value:n.quantity,placeholder:"0.00",onInput:a},null,42,Re),[[L,!e.value]])],2),o("div",{class:i(t.$style.footer)},[o("p",null,[n.balance?(c(),f("span",xe,$(n.label)+": "+$(n.balance||0),1)):F("",!0)]),o("p",null,[n.subQuantity?(c(),f("span",Pe," \u2248 "+$(n.subQuantity||0),1)):F("",!0)])],2)],2))}}),Ue={$style:De};var D=g(ze,[["__cssModules",Ue]]),Ne="/assets/reverse.575c655c.svg",We="/assets/reverse-gradient.7e223ded.svg";const Ee="_button_1e4zd_1",Qe="_disabled_1e4zd_20";var je={button:Ee,disabled:Qe};const He=o("img",{src:Ne,alt:"reverse"},null,-1),Oe=o("img",{src:We,alt:"reverse-gradient"},null,-1),Ye=[He,Oe],Ge=w({__name:"SwapperReverse",props:{disabled:Boolean},setup(n){return(s,e)=>(c(),f("button",{class:i([s.$style.button,{[s.$style.disabled]:n.disabled}])},Ye,2))}}),Xe={$style:je};var Je=g(Ge,[["__cssModules",Xe]]);const Ke=w({__name:"approve-to-inch",setup(n){const s=b(!1),e=async()=>{const l=M(),a=x();if(l.chain){s.value=!0;const t=await p();if(!t)return null;const u=l.chain.getProvider(),r=l.chain.getWallet(),k=new j(a.token1.address,ae,r),m=I("1000000000000000",a.token1.decimals),v=await u.getFeeData();let _=H(v.gasPrice||"1","gwei");return _=Math.round(parseFloat(_)+parseFloat(_)*l.chain.gasFactor).toString(),(await k.approve(t,m,{gasLimit:l.chain.gasLimit,gasPrice:I(_,"gwei").toString()}).catch(A=>(B.create({message:"\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043B\u0430\u0441\u044C \u043E\u0448\u0438\u0431\u043A\u043E\u0439.",color:"negative",position:"top"}),console.log("-> Approve error"),console.log(A),s.value=!1,null))).wait().then(async()=>(B.create({message:"\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u043F\u0440\u043E\u0448\u043B\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E.",color:"positive",position:"top"}),a.allowanceToSwap=await O(a.token1.address,a.token1.decimals),null)).catch(A=>(B.create({message:"\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043B\u0430\u0441\u044C \u043E\u0448\u0438\u0431\u043A\u043E\u0439.",color:"negative",position:"top"}),console.log("-> Approve error"),console.log(A),null)).finally(()=>{s.value=!1})}},p=async()=>{var a;const l=M();return Y.get("get_approve_spender",{params:{chain:(a=l.chain)==null?void 0:a.id}}).then(t=>t.data.address||"").catch(t=>(console.log("-> getInchAddressToApprove",t.message),""))};return(l,a)=>(c(),S(T,{title:"approve",onClick:e}))}}),Ze="_control_1lx6y_1",et="_content_1lx6y_6",tt="_swapWrapper_1lx6y_11",nt="_reverse_1lx6y_18",at="_divider_1lx6y_21",st="_input_1lx6y_29",ot="_buttonSwap_1lx6y_32";var lt={control:Ze,content:et,swapWrapper:tt,reverse:nt,divider:at,input:st,buttonSwap:ot};const ut=o("img",{src:se},null,-1),it=o("img",{src:oe},null,-1),rt=w({__name:"Swapper",setup(n){const s=M(),e=x(),p=b(!1),l=(m,v=15)=>new Intl.NumberFormat("ru",{maximumFractionDigits:v}).format(m),a=()=>{e.token1.quantity=e.token1.balance/10**e.token1.decimals},t=()=>{e.token1.quantity=0,e.token2.quantity=0},u=()=>{e.isReversingTokens=!0,e.isReversedTokens=!e.isReversedTokens;const m=[e.token1,e.token2].slice(0,2);e.token1=m[1],e.token2=m[0]},r=P(()=>e.token1.address&&e.token2.address&&e.token1Loaded&&e.token2Loaded&&!e.priceInUpdate),k=async()=>{p.value=!0,await G()&&e.recipientAddress&&!e.sendToRecipientInSwap&&(e.sendTokenAfterSwapDialog=!0),p.value=!1};return(m,v)=>(c(),S(W,{title:"Swap",loading:!d(e).token1Loaded||d(e).priceInUpdate},{head:h(()=>[o("div",{class:i(m.$style.control)},[y(T,{title:`${d(e).slippage}%`,onClick:v[0]||(v[0]=_=>d(s).setPopup("slippage"))},{append:h(()=>[ut]),_:1},8,["title"]),y(T,{title:"addresses",onClick:v[1]||(v[1]=_=>d(s).setPopup("addresses"))},{append:h(()=>[it]),_:1}),y(Ke)],2)]),default:h(()=>[o("div",{class:i(m.$style.content)},[o("div",{class:i(m.$style.swapWrapper)},[y(D,{monet:d(e).token1.symbol,address:d(e).token1.address,balance:d(e).token1.getFormattedBalance(),quantity:+d(e).token1.quantity,disabled:!d(e).token1Loaded,title:"You're paying",onInput:v[2]||(v[2]=_=>d(e).token1.address=_),onInputQuantity:v[3]||(v[3]=_=>d(e).token1.quantity=_),onMax:a,onClear:t},null,8,["monet","address","balance","quantity","disabled"]),y(Je,{class:i(m.$style.reverse),disabled:!r.value,onClick:u},null,8,["class","disabled"]),y(D,{title:"You receive",type:"onlyRead",label:"Volume",monet:d(e).token2.symbol||"-",quantity:l(d(e).token2.quantity,10),"sub-quantity":+l(d(e).token2Price),address:d(e).token2.address,disabled:!d(e).token1Loaded,balance:"",onInput:v[4]||(v[4]=_=>d(e).token2.address=_)},null,8,["monet","quantity","sub-quantity","address","disabled"])],2),o("span",{class:i(m.$style.divider)},null,2),y(ee,{modelValue:d(e).recipientAddress,"onUpdate:modelValue":v[5]||(v[5]=_=>d(e).recipientAddress=_),placeholder:"Recipient's address",class:i(m.$style.input)},null,8,["modelValue","class"]),y(N,{type:"swap",disabled:!r.value||!d(e).token1.quantity,onClick:k},{default:h(()=>[o("span",{class:i(m.$style.buttonSwap)}," SWAP ",2)]),_:1},8,["disabled"])],2)]),_:1},8,["loading"]))}}),pt={$style:lt};var dt=g(rt,[["__cssModules",pt]]);const ct="_chip_1vbkj_1";var yt={chip:ct};const mt={name:"ChipTab",props:{title:String,color:String,isActive:Boolean}};function vt(n,s,e,p,l,a){return c(),f("div",{class:i(n.$style.chip),style:X({borderColor:e.color,backgroundColor:e.isActive?e.color:"transparent",color:e.isActive?"#fff":e.color})},[o("h4",null,$(e.title),1)],6)}const ft={$style:yt};var _t=g(mt,[["render",vt],["__cssModules",ft]]);const bt="_tabs_1yp5m_1";var $t={tabs:bt};const gt=w({__name:"Tabs",props:{modelValue:Array},emits:["update:modelValue"],setup(n,{emit:s}){const e=s,p=b([{id:1,name:"Ethereum",color:"#4966B2"},{id:2,name:"BSC",color:"#C4854B"}]),l=b([]);R(l,()=>{e("update:modelValue",[...l.value].map(t=>p.value.find(u=>u.id===t).id))},{deep:!0});const a=t=>{const u=l.value.findIndex(r=>r===t);u>-1?l.value.splice(u,1):l.value.push(t)};return(t,u)=>(c(),f("div",{class:i(t.$style.tabs)},[(c(!0),f(z,null,U(p.value,r=>(c(),S(_t,{key:r.id,title:r.name,color:r.color,"is-active":l.value.includes(r.id),onClick:k=>a(r.id)},null,8,["title","color","is-active","onClick"]))),128))],2))}}),wt={$style:$t};var ht=g(gt,[["__cssModules",wt]]);const kt="_item_1hnlk_1",St="_meta_1hnlk_6",Mt="_token_1hnlk_23",Tt="_date_1hnlk_45";var Ft={item:kt,meta:St,token:Mt,date:Tt};const At=o("img",{src:te,alt:"copy"},null,-1),Bt=w({__name:"Transaction",props:{monet:String,chain:String,hash:String,date:String},setup(n){return(s,e)=>(c(),f("div",{class:i(s.$style.item)},[o("div",{class:i(s.$style.meta)},[o("h4",null,$(n.monet),1),o("p",null,$(n.chain),1)],2),o("div",{class:i(s.$style.token)},[o("span",null,$(n.hash),1),y(N,{type:"mini"},{default:h(()=>[At]),_:1})],2),o("div",{class:i(s.$style.date)},$(n.date),3)],2))}}),Ct={$style:Ft};var qt=g(Bt,[["__cssModules",Ct]]);const Lt="_transactions_z61y0_1",It="_scroll_z61y0_9",Vt="_ended_z61y0_24",Dt="_empty_z61y0_27",Rt="_transactionsWrapper_z61y0_34";var xt={transactions:Lt,scroll:It,ended:Vt,empty:Dt,transactionsWrapper:Rt};const Pt=w({__name:"TransactionsList",props:{transactions:Array},setup(n){b("");const s=b(0),e=b(null),p=b(!0),l=a=>{const t=a.target.scrollTop+a.target.clientHeight,u=a.target.scrollHeight-20;t>u?s.value=1:s.value=0};return J(()=>{const a=e.value.clientHeight;e.value.scrollHeight<=a&&(s.value=1,p.value=!1)}),(a,t)=>(c(),f("div",{ref_key:"scroll",ref:e,class:i([a.$style.transactions,{[a.$style.ended]:s.value===1,[a.$style.scroll]:p.value}]),onScroll:l},[o("div",{class:i(a.$style.transactionsWrapper)},[(c(!0),f(z,null,U(n.transactions,u=>(c(),S(qt,{key:u.id,monet:u.monet,chain:u.chain,hash:u.hash,date:new Date(u.date).toLocaleString()},null,8,["monet","chain","hash","date"]))),128))],2),n.transactions.length?F("",!0):(c(),f("span",{key:0,class:i(a.$style.empty)},"There were no transactions",2))],34))}}),zt={$style:xt};var Ut=g(Pt,[["__cssModules",zt]]);const Nt=w({__name:"Transactions",setup(n){const s=K();M();const e=b(""),p=b([]),l=P(()=>{let a=s.transactions;return p.value.length&&(a=a.filter(t=>p.value.includes(t.id))),e.value&&(a=a.filter(t=>t.icon.toLowerCase().includes(e.value)||t.monet.toLowerCase().includes(e.value))),a});return(a,t)=>(c(),S(W,{title:"Transactions"},{head:h(()=>[y(ne,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=u=>e.value=u)},null,8,["modelValue"])]),default:h(()=>[y(ht,{modelValue:p.value,"onUpdate:modelValue":t[1]||(t[1]=u=>p.value=u)},null,8,["modelValue"]),y(Ut,{transactions:l.value},null,8,["transactions"])]),_:1}))}}),Wt="_page_kru05_1";var Et={page:Wt};const Qt={components:{Transactions:Nt,Swapper:dt},setup(){M()}};function jt(n,s,e,p,l,a){const t=V("Swapper"),u=V("Transactions");return c(),f("div",{class:i(n.$style.page)},[y(t),y(u)],2)}const Ht={$style:Et};var Jt=g(Qt,[["render",jt],["__cssModules",Ht]]);export{Jt as default};
