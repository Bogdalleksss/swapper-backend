import{d as h,o as y,f as _,b as o,x as E,t as $,a as M,i as F,r as C,n as i,Q,j as g,p as R,y as q,z as I,e as m,u as S,q as x,C as j,A as L,B as H,N as B,D as O,E as Y,c as P,w as k,g as c,G,H as X,F as z,m as U,l as J,I as K,s as V}from"./index.7b3f6e86.js";import{_ as w}from"./plugin-vue_export-helper.21dcd24c.js";import{A as Z,T as ee,B as N,_ as te,c as ne,S as ae}from"./copy-to-clipboard.646433a1.js";var se=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_upgradedAddress",type:"address"}],name:"deprecate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"deprecated",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_evilUser",type:"address"}],name:"addBlackList",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"upgradedAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balances",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maximumFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_maker",type:"address"}],name:"getBlackListStatus",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"allowed",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"who",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getOwner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newBasisPoints",type:"uint256"},{name:"newMaxFee",type:"uint256"}],name:"setParams",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"issue",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"redeem",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"basisPointsRate",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"isBlackListed",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_clearedUser",type:"address"}],name:"removeBlackList",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"MAX_UINT",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_blackListedUser",type:"address"}],name:"destroyBlackFunds",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"_initialSupply",type:"uint256"},{name:"_name",type:"string"},{name:"_symbol",type:"string"},{name:"_decimals",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"amount",type:"uint256"}],name:"Issue",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"amount",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"newAddress",type:"address"}],name:"Deprecate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"feeBasisPoints",type:"uint256"},{indexed:!1,name:"maxFee",type:"uint256"}],name:"Params",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_blackListedUser",type:"address"},{indexed:!1,name:"_balance",type:"uint256"}],name:"DestroyedBlackFunds",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_user",type:"address"}],name:"AddedBlackList",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_user",type:"address"}],name:"RemovedBlackList",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"}],oe="/assets/settings.bd8ef033.svg",le="/assets/btc.0b124c95.svg";const ue="_layout_kztbq_1",ie="_head_kztbq_7",re="_content_kztbq_19";var pe={layout:ue,head:ie,content:re};const de=h({__name:"BlockLayout",props:{title:{type:String,default:"Untitled"},loading:Boolean},setup(t){return(l,e)=>(y(),_("div",{class:i(l.$style.layout)},[o("div",{class:i(l.$style.head)},[o("h3",null,[E($(t.title)+" ",1),t.loading?(y(),M(Q,{key:0,size:"14px"})):F("",!0)]),o("div",null,[C(l.$slots,"head")])],2),o("div",{class:i(l.$style.content)},[C(l.$slots,"default")],2)],2))}}),ce={$style:pe};var W=w(de,[["__cssModules",ce]]);const ye="_button_13rva_1",me="_rounded_13rva_18";var fe={button:ye,rounded:me,"gradient-text":"_gradient-text_13rva_21"};const ve={name:"ChipButton",props:{title:{type:String,default:""},type:{type:String,default:"rounded"}}};function _e(t,l,e,r,s,u){return y(),_("button",{class:i([t.$style.button,t.$style[e.type]])},[C(t.$slots,"append"),o("span",null,$(e.title),1)],2)}const be={$style:fe};var T=w(ve,[["render",_e],["__cssModules",be]]);const ge="_input_n9j83_1",$e="_showed_n9j83_24",we="_button_n9j83_27",he="_onlyRead_n9j83_99";var ke={input:ge,showed:$e,button:we,onlyRead:he};const Se=["value"],Me=h({__name:"SwapperFieldInput",props:{type:String,value:String,showedField:{type:Boolean,default:!1},monet:{type:String,default:"-"}},emits:["input"],setup(t,{emit:l}){const e=l,r=t,s=g(!1),u=g(null);R(()=>r.showedField,a=>{a?(setTimeout(()=>{s.value=a},350),setTimeout(()=>{u.value.focus()},400)):s.value=a});const n=()=>{s.value||e("toggleShow")},d=a=>{e("input",a.target.value)};return(a,v)=>(y(),_("div",{class:i([a.$style.input,a.$style[t.type],{[a.$style.showed]:t.showedField}])},[o("div",{class:i([a.$style.button]),onClick:n},[o("h3",null,$(t.monet),1),q(m(Z,{color:"#6D6D6D"},null,512),[[I,!t.showedField]]),q(o("input",{value:t.value,ref_key:"input",ref:u,placeholder:"Address",onInput:d,onBlur:v[0]||(v[0]=p=>a.$emit("toggleShow"))},null,40,Se),[[I,s.value]])],2)],2))}}),Te={$style:ke};var Fe=w(Me,[["__cssModules",Te]]);const Ae="_field_1n4mq_1",Be="_head_1n4mq_8",Ce="_control_1n4mq_20",qe="_input_1n4mq_24",Ie="_inputField_1n4mq_30",Le="_footer_1n4mq_47",Ve="_onlyRead_1n4mq_67",De="_disabled_1n4mq_80";var Re={field:Ae,head:Be,control:Ce,input:qe,inputField:Ie,footer:Le,onlyRead:Ve,disabled:De};const xe=["value"],Pe={key:0},ze={key:0},Ue=h({__name:"SwapperField",props:{type:String,title:String,address:String,disabled:Boolean,balance:[Number,String],quantity:String,subQuantity:{type:Number,default:0},label:{type:String,default:"Balance"},monet:{type:String,default:"-"}},emits:["input","input-quantity","max","clear"],setup(t,{emit:l}){const e=g(!1),r=l,s=n=>{r("input",n)},u=n=>{r("input-quantity",+n.target.value)};return(n,d)=>(y(),_("div",{class:i([n.$style.field,n.$style[t.type],{[n.$style.disabled]:t.disabled}])},[o("div",{class:i(n.$style.head)},[o("h3",null,$(t.title),1),o("div",{class:i(n.$style.control)},[m(T,{title:"max",type:"gradient-text",onClick:d[0]||(d[0]=a=>r("max"))}),m(T,{title:"clear",type:"none",onClick:d[1]||(d[1]=a=>r("clear"))})],2)],2),o("div",{class:i([n.$style.input,{[n.$style.showedField]:e.value}])},[m(Fe,{type:t.type,monet:t.monet,"showed-field":e.value,value:t.address,onToggleShow:d[2]||(d[2]=a=>e.value=!e.value),onInput:s},null,8,["type","monet","showed-field","value"]),q(o("input",{class:i(n.$style.inputField),value:t.quantity,placeholder:"0.00",onInput:u},null,42,xe),[[I,!e.value]])],2),o("div",{class:i(n.$style.footer)},[o("p",null,[t.balance?(y(),_("span",Pe,$(t.label)+": "+$(t.balance||0),1)):F("",!0)]),o("p",null,[t.subQuantity?(y(),_("span",ze," \u2248 "+$(t.subQuantity||0),1)):F("",!0)])],2)],2))}}),Ne={$style:Re};var D=w(Ue,[["__cssModules",Ne]]),We="/assets/reverse.575c655c.svg",Ee="/assets/reverse-gradient.7e223ded.svg";const Qe="_button_1e4zd_1",je="_disabled_1e4zd_20";var He={button:Qe,disabled:je};const Oe=o("img",{src:We,alt:"reverse"},null,-1),Ye=o("img",{src:Ee,alt:"reverse-gradient"},null,-1),Ge=[Oe,Ye],Xe=h({__name:"SwapperReverse",props:{disabled:Boolean},setup(t){return(l,e)=>(y(),_("button",{class:i([l.$style.button,{[l.$style.disabled]:t.disabled}])},Ge,2))}}),Je={$style:He};var Ke=w(Xe,[["__cssModules",Je]]);const Ze=h({__name:"approve-to-inch",setup(t){const l=g(!1),e=async()=>{const s=S(),u=x();if(s.chain){l.value=!0;const n=await r();if(!n)return null;const d=s.chain.getProvider(),a=s.chain.getWallet(),v=new j(u.token1.address,se,a),p=L("1000000000000000",u.token1.decimals),f=await d.getFeeData();let b=H(f.gasPrice||"1","gwei");return b=Math.round(parseFloat(b)+parseFloat(b)*s.chain.gasFactor).toString(),(await v.approve(n,p,{gasLimit:s.chain.gasLimit,gasPrice:L(b,"gwei").toString()}).catch(A=>(B.create({message:"\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043B\u0430\u0441\u044C \u043E\u0448\u0438\u0431\u043A\u043E\u0439.",color:"negative",position:"top"}),console.log("-> Approve error"),console.log(A),l.value=!1,null))).wait().then(async()=>(B.create({message:"\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u043F\u0440\u043E\u0448\u043B\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E.",color:"positive",position:"top"}),u.allowanceToSwap=await O(u.token1.address,u.token1.decimals),null)).catch(A=>(B.create({message:"\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043B\u0430\u0441\u044C \u043E\u0448\u0438\u0431\u043A\u043E\u0439.",color:"negative",position:"top"}),console.log("-> Approve error"),console.log(A),null)).finally(()=>{l.value=!1})}},r=async()=>{var u;const s=S();return Y.get("get_approve_spender",{params:{chain:(u=s.chain)==null?void 0:u.id}}).then(n=>n.data.address||"").catch(n=>(console.log("-> getInchAddressToApprove",n.message),""))};return(s,u)=>(y(),M(T,{title:"approve",onClick:e}))}}),et="_control_1lx6y_1",tt="_content_1lx6y_6",nt="_swapWrapper_1lx6y_11",at="_reverse_1lx6y_18",st="_divider_1lx6y_21",ot="_input_1lx6y_29",lt="_buttonSwap_1lx6y_32";var ut={control:et,content:tt,swapWrapper:nt,reverse:at,divider:st,input:ot,buttonSwap:lt};const it=o("img",{src:oe},null,-1),rt=o("img",{src:le},null,-1),pt=h({__name:"Swapper",setup(t){const l=S(),e=x(),r=g(!1),s=(p,f=15)=>new Intl.NumberFormat("ru",{maximumFractionDigits:f}).format(p),u=()=>{e.token1.quantity=e.token1.balance/10**e.token1.decimals},n=()=>{e.token1.quantity=0,e.token2.quantity=0},d=()=>{e.isReversingTokens=!0,e.isReversedTokens=!e.isReversedTokens;const p=[e.token1,e.token2].slice(0,2);e.token1=p[1],e.token2=p[0]},a=P(()=>e.token1.address&&e.token2.address&&e.token1Loaded&&e.token2Loaded&&!e.priceInUpdate),v=async()=>{r.value=!0,await G()&&e.recipientAddress&&!e.sendToRecipientInSwap&&(e.sendTokenAfterSwapDialog=!0),r.value=!1};return(p,f)=>(y(),M(W,{title:"Swap",loading:!c(e).token1Loaded||c(e).priceInUpdate},{head:k(()=>[o("div",{class:i(p.$style.control)},[m(T,{title:`${c(e).slippage}%`,onClick:f[0]||(f[0]=b=>c(l).setPopup("slippage"))},{append:k(()=>[it]),_:1},8,["title"]),m(T,{title:"addresses",onClick:f[1]||(f[1]=b=>c(l).setPopup("addresses"))},{append:k(()=>[rt]),_:1}),m(Ze)],2)]),default:k(()=>[o("div",{class:i(p.$style.content)},[o("div",{class:i(p.$style.swapWrapper)},[m(D,{monet:c(e).token1.symbol,address:c(e).token1.address,balance:c(e).token1.getFormattedBalance(),quantity:+c(e).token1.quantity,disabled:!c(e).token1Loaded,title:"You're paying",onInput:f[2]||(f[2]=b=>c(e).token1.address=b),onInputQuantity:f[3]||(f[3]=b=>c(e).token1.quantity=b),onMax:u,onClear:n},null,8,["monet","address","balance","quantity","disabled"]),m(Ke,{class:i(p.$style.reverse),disabled:!a.value,onClick:d},null,8,["class","disabled"]),m(D,{title:"You receive",type:"onlyRead",label:"Volume",monet:c(e).token2.symbol||"-",quantity:s(c(e).token2.quantity,10),"sub-quantity":+s(c(e).token2Price),address:c(e).token2.address,disabled:!c(e).token1Loaded,balance:"",onInput:f[4]||(f[4]=b=>c(e).token2.address=b)},null,8,["monet","quantity","sub-quantity","address","disabled"])],2),o("span",{class:i(p.$style.divider)},null,2),m(ee,{modelValue:c(e).recipientAddress,"onUpdate:modelValue":f[5]||(f[5]=b=>c(e).recipientAddress=b),placeholder:"Recipient's address",class:i(p.$style.input)},null,8,["modelValue","class"]),m(N,{type:"swap",disabled:!a.value||!c(e).token1.quantity,onClick:v},{default:k(()=>[o("span",{class:i(p.$style.buttonSwap)}," SWAP ",2)]),_:1},8,["disabled"])],2)]),_:1},8,["loading"]))}}),dt={$style:ut};var ct=w(pt,[["__cssModules",dt]]);const yt="_chip_1vbkj_1";var mt={chip:yt};const ft={name:"ChipTab",props:{title:String,color:String,isActive:Boolean}};function vt(t,l,e,r,s,u){return y(),_("div",{class:i(t.$style.chip),style:X({borderColor:e.color,backgroundColor:e.isActive?e.color:"transparent",color:e.isActive?"#fff":e.color})},[o("h4",null,$(e.title),1)],6)}const _t={$style:mt};var bt=w(ft,[["render",vt],["__cssModules",_t]]);const gt="_tabs_1yp5m_1";var $t={tabs:gt};const wt=h({__name:"Tabs",props:{modelValue:Array},emits:["update:modelValue"],setup(t,{emit:l}){const e=l,r=g([{id:1,name:"Ethereum",chainId:1,color:"#4966B2"},{id:2,name:"BSC",chainId:56,color:"#C4854B"}]),s=g([]);R(s,()=>{e("update:modelValue",[...s.value])},{deep:!0});const u=n=>{const d=s.value.findIndex(a=>a===n);d>-1?s.value.splice(d,1):s.value.push(n)};return(n,d)=>(y(),_("div",{class:i(n.$style.tabs)},[(y(!0),_(z,null,U(r.value,a=>(y(),M(bt,{key:a.id,title:a.name,color:a.color,"is-active":s.value.includes(a.chainId),onClick:v=>u(a.chainId)},null,8,["title","color","is-active","onClick"]))),128))],2))}}),ht={$style:$t};var kt=w(wt,[["__cssModules",ht]]);const St="_item_1hnlk_1",Mt="_meta_1hnlk_6",Tt="_token_1hnlk_23",Ft="_date_1hnlk_45";var At={item:St,meta:Mt,token:Tt,date:Ft};const Bt=h({__name:"Transaction",props:{monet:String,chain:String,hash:String,date:String},setup(t){const l=e=>{ne(e)};return(e,r)=>(y(),_("div",{class:i(e.$style.item)},[o("div",{class:i(e.$style.meta)},[o("h4",null,$(t.monet),1),o("p",null,$(t.chain),1)],2),o("div",{class:i(e.$style.token)},[o("span",null,$(t.hash),1),m(N,{type:"mini"},{default:k(()=>[o("img",{src:te,alt:"copy",onClick:r[0]||(r[0]=s=>l(e.address))})]),_:1})],2),o("div",{class:i(e.$style.date)},$(t.date),3)],2))}}),Ct={$style:At};var qt=w(Bt,[["__cssModules",Ct]]);const It="_transactions_z61y0_1",Lt="_scroll_z61y0_9",Vt="_ended_z61y0_24",Dt="_empty_z61y0_27",Rt="_transactionsWrapper_z61y0_34";var xt={transactions:It,scroll:Lt,ended:Vt,empty:Dt,transactionsWrapper:Rt};const Pt=h({__name:"TransactionsList",props:{transactions:Array},setup(t){const l=S();g("");const e=g(0),r=g(null),s=g(!0),{chains:u}=l,n=a=>{const v=a.target.scrollTop+a.target.clientHeight,p=a.target.scrollHeight-20;v>p?e.value=1:e.value=0},d=a=>{const v=u.find(p=>p.id===a);return(v==null?void 0:v.name)||a.toString()};return J(()=>{const a=r.value.clientHeight;r.value.scrollHeight<=a&&(e.value=1,s.value=!1)}),(a,v)=>(y(),_("div",{ref_key:"scroll",ref:r,class:i([a.$style.transactions,{[a.$style.ended]:e.value===1,[a.$style.scroll]:s.value}]),onScroll:n},[o("div",{class:i(a.$style.transactionsWrapper)},[(y(!0),_(z,null,U(t.transactions,p=>(y(),M(qt,{key:p.id,monet:p.monet,chain:d(p.chain),hash:p.hash,date:new Date(p.date).toLocaleString()},null,8,["monet","chain","hash","date"]))),128))],2),t.transactions.length?F("",!0):(y(),_("span",{key:0,class:i(a.$style.empty)},"There were no transactions",2))],34))}}),zt={$style:xt};var Ut=w(Pt,[["__cssModules",zt]]);const Nt=h({__name:"Transactions",setup(t){const l=K();S();const e=g(""),r=g([]),s=P(()=>{let u=l.transactions;return r.value.length&&(u=u.filter(n=>r.value.includes(n.chain))),e.value&&(u=u.filter(n=>n.monet.toLowerCase().includes(e.value))),u});return(u,n)=>(y(),M(W,{title:"Transactions"},{head:k(()=>[m(ae,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=d=>e.value=d)},null,8,["modelValue"])]),default:k(()=>[m(kt,{modelValue:r.value,"onUpdate:modelValue":n[1]||(n[1]=d=>r.value=d)},null,8,["modelValue"]),m(Ut,{transactions:s.value},null,8,["transactions"])]),_:1}))}}),Wt="_page_kru05_1";var Et={page:Wt};const Qt={components:{Transactions:Nt,Swapper:ct},setup(){S()}};function jt(t,l,e,r,s,u){const n=V("Swapper"),d=V("Transactions");return y(),_("div",{class:i(t.$style.page)},[m(n),m(d)],2)}const Ht={$style:Et};var Jt=w(Qt,[["render",jt],["__cssModules",Ht]]);export{Jt as default};
