import{d as h,o as y,f as _,b as s,x as E,t as $,a as M,i as F,r as C,n as i,Q,j as g,p as R,y as q,z as I,e as m,u as S,q as x,C as j,A as L,B as H,N as B,D as O,E as Y,c as P,w as k,g as c,G,H as X,F as z,m as U,l as J,I as K,s as V}from"./index.f8087261.js";import{_ as w}from"./plugin-vue_export-helper.21dcd24c.js";import{A as Z,T as ee,B as N,_ as te,c as ne,S as ae}from"./copy-to-clipboard.1971de54.js";var se=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_upgradedAddress",type:"address"}],name:"deprecate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"deprecated",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_evilUser",type:"address"}],name:"addBlackList",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"upgradedAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balances",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maximumFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_maker",type:"address"}],name:"getBlackListStatus",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"allowed",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"who",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getOwner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newBasisPoints",type:"uint256"},{name:"newMaxFee",type:"uint256"}],name:"setParams",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"issue",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"redeem",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"basisPointsRate",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"isBlackListed",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_clearedUser",type:"address"}],name:"removeBlackList",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"MAX_UINT",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_blackListedUser",type:"address"}],name:"destroyBlackFunds",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"_initialSupply",type:"uint256"},{name:"_name",type:"string"},{name:"_symbol",type:"string"},{name:"_decimals",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"amount",type:"uint256"}],name:"Issue",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"amount",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"newAddress",type:"address"}],name:"Deprecate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"feeBasisPoints",type:"uint256"},{indexed:!1,name:"maxFee",type:"uint256"}],name:"Params",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_blackListedUser",type:"address"},{indexed:!1,name:"_balance",type:"uint256"}],name:"DestroyedBlackFunds",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_user",type:"address"}],name:"AddedBlackList",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_user",type:"address"}],name:"RemovedBlackList",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"}],oe="/assets/settings.bd8ef033.svg",le="/assets/btc.0b124c95.svg";const ue="_layout_kztbq_1",ie="_head_kztbq_7",re="_content_kztbq_19";var pe={layout:ue,head:ie,content:re};const de=h({__name:"BlockLayout",props:{title:{type:String,default:"Untitled"},loading:Boolean},setup(n){return(u,e)=>(y(),_("div",{class:i(u.$style.layout)},[s("div",{class:i(u.$style.head)},[s("h3",null,[E($(n.title)+" ",1),n.loading?(y(),M(Q,{key:0,size:"14px"})):F("",!0)]),s("div",null,[C(u.$slots,"head")])],2),s("div",{class:i(u.$style.content)},[C(u.$slots,"default")],2)],2))}}),ce={$style:pe};var W=w(de,[["__cssModules",ce]]);const ye="_button_13rva_1",me="_rounded_13rva_18";var fe={button:ye,rounded:me,"gradient-text":"_gradient-text_13rva_21"};const ve={name:"ChipButton",props:{title:{type:String,default:""},type:{type:String,default:"rounded"}}};function _e(n,u,e,r,o,l){return y(),_("button",{class:i([n.$style.button,n.$style[e.type]])},[C(n.$slots,"append"),s("span",null,$(e.title),1)],2)}const be={$style:fe};var T=w(ve,[["render",_e],["__cssModules",be]]);const ge="_input_n9j83_1",$e="_showed_n9j83_24",we="_button_n9j83_27",he="_onlyRead_n9j83_99";var ke={input:ge,showed:$e,button:we,onlyRead:he};const Se=["value"],Me=h({__name:"SwapperFieldInput",props:{type:String,value:String,showedField:{type:Boolean,default:!1},monet:{type:String,default:"-"}},emits:["input"],setup(n,{emit:u}){const e=u,r=n,o=g(!1),l=g(null);R(()=>r.showedField,a=>{a?(setTimeout(()=>{o.value=a},350),setTimeout(()=>{l.value.focus()},400)):o.value=a});const t=()=>{o.value||e("toggleShow")},p=a=>{e("input",a.target.value)};return(a,v)=>(y(),_("div",{class:i([a.$style.input,a.$style[n.type],{[a.$style.showed]:n.showedField}])},[s("div",{class:i([a.$style.button]),onClick:t},[s("h3",null,$(n.monet),1),q(m(Z,{color:"#6D6D6D"},null,512),[[I,!n.showedField]]),q(s("input",{value:n.value,ref_key:"input",ref:l,placeholder:"Address",onInput:p,onBlur:v[0]||(v[0]=d=>a.$emit("toggleShow"))},null,40,Se),[[I,o.value]])],2)],2))}}),Te={$style:ke};var Fe=w(Me,[["__cssModules",Te]]);const Ae="_field_1n4mq_1",Be="_head_1n4mq_8",Ce="_control_1n4mq_20",qe="_input_1n4mq_24",Ie="_inputField_1n4mq_30",Le="_footer_1n4mq_47",Ve="_onlyRead_1n4mq_67",De="_disabled_1n4mq_80";var Re={field:Ae,head:Be,control:Ce,input:qe,inputField:Ie,footer:Le,onlyRead:Ve,disabled:De};const xe=["value"],Pe={key:0},ze={key:0},Ue=h({__name:"SwapperField",props:{type:String,title:String,address:String,disabled:Boolean,balance:[Number,String],quantity:String,subQuantity:{type:Number,default:0},label:{type:String,default:"Balance"},monet:{type:String,default:"-"}},emits:["input","input-quantity","max","clear"],setup(n,{emit:u}){const e=g(!1),r=u,o=t=>{r("input",t)},l=t=>{r("input-quantity",+t.target.value)};return(t,p)=>(y(),_("div",{class:i([t.$style.field,t.$style[n.type],{[t.$style.disabled]:n.disabled}])},[s("div",{class:i(t.$style.head)},[s("h3",null,$(n.title),1),s("div",{class:i(t.$style.control)},[m(T,{title:"max",type:"gradient-text",onClick:p[0]||(p[0]=a=>r("max"))}),m(T,{title:"clear",type:"none",onClick:p[1]||(p[1]=a=>r("clear"))})],2)],2),s("div",{class:i([t.$style.input,{[t.$style.showedField]:e.value}])},[m(Fe,{type:n.type,monet:n.monet,"showed-field":e.value,value:n.address,onToggleShow:p[2]||(p[2]=a=>e.value=!e.value),onInput:o},null,8,["type","monet","showed-field","value"]),q(s("input",{class:i(t.$style.inputField),value:n.quantity,placeholder:"0.00",onInput:l},null,42,xe),[[I,!e.value]])],2),s("div",{class:i(t.$style.footer)},[s("p",null,[n.balance?(y(),_("span",Pe,$(n.label)+": "+$(n.balance||0),1)):F("",!0)]),s("p",null,[n.subQuantity?(y(),_("span",ze," \u2248 "+$(n.subQuantity||0),1)):F("",!0)])],2)],2))}}),Ne={$style:Re};var D=w(Ue,[["__cssModules",Ne]]),We="/assets/reverse.575c655c.svg",Ee="/assets/reverse-gradient.7e223ded.svg";const Qe="_button_1e4zd_1",je="_disabled_1e4zd_20";var He={button:Qe,disabled:je};const Oe=s("img",{src:We,alt:"reverse"},null,-1),Ye=s("img",{src:Ee,alt:"reverse-gradient"},null,-1),Ge=[Oe,Ye],Xe=h({__name:"SwapperReverse",props:{disabled:Boolean},setup(n){return(u,e)=>(y(),_("button",{class:i([u.$style.button,{[u.$style.disabled]:n.disabled}])},Ge,2))}}),Je={$style:He};var Ke=w(Xe,[["__cssModules",Je]]);const Ze=h({__name:"approve-to-inch",setup(n){const u=g(!1),e=async()=>{const o=S(),l=x();if(o.chain){u.value=!0;const t=await r();if(!t)return null;const p=o.chain.getProvider(),a=o.chain.getWallet(),v=new j(l.token1.address,se,a),d=L("1000000000000000",l.token1.decimals),f=await p.getFeeData();let b=H(f.gasPrice||"1","gwei");return b=Math.round(parseFloat(b)+parseFloat(b)*o.chain.gasFactor).toString(),(await v.approve(t,d,{gasLimit:o.chain.gasLimit,gasPrice:L(b,"gwei").toString()}).catch(A=>(B.create({message:"\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043B\u0430\u0441\u044C \u043E\u0448\u0438\u0431\u043A\u043E\u0439.",color:"negative",position:"top"}),console.log("-> Approve error"),console.log(A),u.value=!1,null))).wait().then(async()=>(B.create({message:"\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u043F\u0440\u043E\u0448\u043B\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E.",color:"positive",position:"top"}),l.allowanceToSwap=await O(l.token1.address,l.token1.decimals),null)).catch(A=>(B.create({message:"\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043B\u0430\u0441\u044C \u043E\u0448\u0438\u0431\u043A\u043E\u0439.",color:"negative",position:"top"}),console.log("-> Approve error"),console.log(A),null)).finally(()=>{u.value=!1})}},r=async()=>{var l;const o=S();return Y.get("get_approve_spender",{params:{chain:(l=o.chain)==null?void 0:l.id}}).then(t=>t.data.address||"").catch(t=>(console.log("-> getInchAddressToApprove",t.message),""))};return(o,l)=>(y(),M(T,{title:"approve",onClick:e}))}}),et="_control_1lx6y_1",tt="_content_1lx6y_6",nt="_swapWrapper_1lx6y_11",at="_reverse_1lx6y_18",st="_divider_1lx6y_21",ot="_input_1lx6y_29",lt="_buttonSwap_1lx6y_32";var ut={control:et,content:tt,swapWrapper:nt,reverse:at,divider:st,input:ot,buttonSwap:lt};const it=s("img",{src:oe},null,-1),rt=s("img",{src:le},null,-1),pt=h({__name:"Swapper",setup(n){const u=S(),e=x(),r=g(!1),o=(d,f=15)=>new Intl.NumberFormat("ru",{maximumFractionDigits:f}).format(d),l=()=>{e.token1.quantity=e.token1.balance/10**e.token1.decimals},t=()=>{e.token1.quantity=0,e.token2.quantity=0},p=()=>{e.isReversingTokens=!0,e.isReversedTokens=!e.isReversedTokens;const d=[e.token1,e.token2].slice(0,2);e.token1=d[1],e.token2=d[0]},a=P(()=>e.token1.address&&e.token2.address&&e.token1Loaded&&e.token2Loaded&&!e.priceInUpdate),v=async()=>{r.value=!0,await G()&&e.recipientAddress&&!e.sendToRecipientInSwap&&(e.sendTokenAfterSwapDialog=!0),r.value=!1};return(d,f)=>(y(),M(W,{title:"Swap",loading:!c(e).token1Loaded||c(e).priceInUpdate},{head:k(()=>[s("div",{class:i(d.$style.control)},[m(T,{title:`${c(e).slippage}%`,onClick:f[0]||(f[0]=b=>c(u).setPopup("slippage"))},{append:k(()=>[it]),_:1},8,["title"]),m(T,{title:"addresses",onClick:f[1]||(f[1]=b=>c(u).setPopup("addresses"))},{append:k(()=>[rt]),_:1}),m(Ze)],2)]),default:k(()=>[s("div",{class:i(d.$style.content)},[s("div",{class:i(d.$style.swapWrapper)},[m(D,{monet:c(e).token1.symbol,address:c(e).token1.address,balance:c(e).token1.getFormattedBalance(),quantity:+c(e).token1.quantity,disabled:!c(e).token1Loaded,title:"You're paying",onInput:f[2]||(f[2]=b=>c(e).token1.address=b),onInputQuantity:f[3]||(f[3]=b=>c(e).token1.quantity=b),onMax:l,onClear:t},null,8,["monet","address","balance","quantity","disabled"]),m(Ke,{class:i(d.$style.reverse),disabled:!a.value,onClick:p},null,8,["class","disabled"]),m(D,{title:"You receive",type:"onlyRead",label:"Volume",monet:c(e).token2.symbol||"-",quantity:o(c(e).token2.quantity,10),"sub-quantity":c(e).token2Price,address:c(e).token2.address,disabled:!c(e).token1Loaded,balance:"",onInput:f[4]||(f[4]=b=>c(e).token2.address=b)},null,8,["monet","quantity","sub-quantity","address","disabled"])],2),s("span",{class:i(d.$style.divider)},null,2),m(ee,{modelValue:c(e).recipientAddress,"onUpdate:modelValue":f[5]||(f[5]=b=>c(e).recipientAddress=b),placeholder:"Recipient's address",class:i(d.$style.input)},null,8,["modelValue","class"]),m(N,{type:"swap",disabled:!a.value||!c(e).token1.quantity,onClick:v},{default:k(()=>[s("span",{class:i(d.$style.buttonSwap)}," SWAP ",2)]),_:1},8,["disabled"])],2)]),_:1},8,["loading"]))}}),dt={$style:ut};var ct=w(pt,[["__cssModules",dt]]);const yt="_chip_1vbkj_1";var mt={chip:yt};const ft={name:"ChipTab",props:{title:String,color:String,isActive:Boolean}};function vt(n,u,e,r,o,l){return y(),_("div",{class:i(n.$style.chip),style:X({borderColor:e.color,backgroundColor:e.isActive?e.color:"transparent",color:e.isActive?"#fff":e.color})},[s("h4",null,$(e.title),1)],6)}const _t={$style:mt};var bt=w(ft,[["render",vt],["__cssModules",_t]]);const gt="_tabs_1yp5m_1";var $t={tabs:gt};const wt=h({__name:"Tabs",props:{modelValue:Array},emits:["update:modelValue"],setup(n,{emit:u}){const e=u,r=g([{id:1,name:"Ethereum",chainId:1,color:"#4966B2"},{id:2,name:"BSC",chainId:56,color:"#C4854B"}]),o=g([]);R(o,()=>{e("update:modelValue",[...o.value])},{deep:!0});const l=t=>{const p=o.value.findIndex(a=>a===t);p>-1?o.value.splice(p,1):o.value.push(t)};return(t,p)=>(y(),_("div",{class:i(t.$style.tabs)},[(y(!0),_(z,null,U(r.value,a=>(y(),M(bt,{key:a.id,title:a.name,color:a.color,"is-active":o.value.includes(a.chainId),onClick:v=>l(a.chainId)},null,8,["title","color","is-active","onClick"]))),128))],2))}}),ht={$style:$t};var kt=w(wt,[["__cssModules",ht]]);const St="_item_1hnlk_1",Mt="_meta_1hnlk_6",Tt="_token_1hnlk_23",Ft="_date_1hnlk_45";var At={item:St,meta:Mt,token:Tt,date:Ft};const Bt=h({__name:"Transaction",props:{monet:String,chain:String,hash:String,date:String},setup(n){const u=e=>{ne(e)};return(e,r)=>(y(),_("div",{class:i(e.$style.item)},[s("div",{class:i(e.$style.meta)},[s("h4",null,$(n.monet),1),s("p",null,$(n.chain),1)],2),s("div",{class:i(e.$style.token)},[s("span",null,$(n.hash),1),m(N,{type:"mini"},{default:k(()=>[s("img",{src:te,alt:"copy",onClick:r[0]||(r[0]=o=>u(n.hash))})]),_:1})],2),s("div",{class:i(e.$style.date)},$(n.date),3)],2))}}),Ct={$style:At};var qt=w(Bt,[["__cssModules",Ct]]);const It="_transactions_z61y0_1",Lt="_scroll_z61y0_9",Vt="_ended_z61y0_24",Dt="_empty_z61y0_27",Rt="_transactionsWrapper_z61y0_34";var xt={transactions:It,scroll:Lt,ended:Vt,empty:Dt,transactionsWrapper:Rt};const Pt=h({__name:"TransactionsList",props:{transactions:Array},setup(n){const u=S();g("");const e=g(0),r=g(null),o=g(!0),{chains:l}=u,t=a=>{const v=a.target.scrollTop+a.target.clientHeight,d=a.target.scrollHeight-20;v>d?e.value=1:e.value=0},p=a=>{const v=l.find(d=>d.id===a);return(v==null?void 0:v.name)||a.toString()};return J(()=>{const a=r.value.clientHeight;r.value.scrollHeight<=a&&(e.value=1,o.value=!1)}),(a,v)=>(y(),_("div",{ref_key:"scroll",ref:r,class:i([a.$style.transactions,{[a.$style.ended]:e.value===1,[a.$style.scroll]:o.value}]),onScroll:t},[s("div",{class:i(a.$style.transactionsWrapper)},[(y(!0),_(z,null,U(n.transactions,d=>(y(),M(qt,{key:d.id,monet:d.monet,chain:p(d.chain),hash:d.hash,date:d.date.toLocaleString()},null,8,["monet","chain","hash","date"]))),128))],2),n.transactions.length?F("",!0):(y(),_("span",{key:0,class:i(a.$style.empty)},"There were no transactions",2))],34))}}),zt={$style:xt};var Ut=w(Pt,[["__cssModules",zt]]);const Nt=h({__name:"Transactions",setup(n){const u=K();S();const e=g(""),r=g([]),o=P(()=>{let l=u.transactions.map(t=>({...t,date:new Date(t.date)}));return l.sort((t,p)=>Number(p.date)-Number(t.date)),r.value.length&&(l=l.filter(t=>r.value.includes(t.chain))),e.value&&(l=l.filter(t=>t.monet.toLowerCase().includes(e.value))),l});return(l,t)=>(y(),M(W,{title:"Transactions"},{head:k(()=>[m(ae,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=p=>e.value=p)},null,8,["modelValue"])]),default:k(()=>[m(kt,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=p=>r.value=p)},null,8,["modelValue"]),m(Ut,{transactions:o.value},null,8,["transactions"])]),_:1}))}}),Wt="_page_kru05_1";var Et={page:Wt};const Qt={components:{Transactions:Nt,Swapper:ct},setup(){S()}};function jt(n,u,e,r,o,l){const t=V("Swapper"),p=V("Transactions");return y(),_("div",{class:i(n.$style.page)},[m(t),m(p)],2)}const Ht={$style:Et};var Jt=w(Qt,[["render",jt],["__cssModules",Ht]]);export{Jt as default};
